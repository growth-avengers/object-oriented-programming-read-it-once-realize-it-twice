# Ch04. 디자인패턴의 깊이

- 전략(Strategy) 패턴
	- 행동 패턴
	- Composition을 이용
	- 런타임에 알고리즘 선택하는 패턴으로 동적이다.
	- 알고리즘을 Client(Context)로부터 독립적으로 만듬
	- Client(Context)는 어떤 알고리즘을 사용할지 모름
- 상태(State) 패턴
	- 행동 패턴
	- 객체 내부 상태에 따라 스스로 행동을 변경하도록 하는 패턴
	- 객체가 행동을 변경할 때 자신의 클래스를 바꾸는 것처럼 보임
	- 정수기 예제
		- 냉수일때는 물이 바로 나옴
		- 온수일때는 물이 바로 나오지 않음, 물이 나오고 냉수 상태로 바뀜
- 템플릿 메서드(Template Method) 패턴
	- 행동 패턴
	- 상속을 이용
	- 클래스 수준에서 작동하는 패턴으로 정적이다.
	- 부모가 알고리즘의 골격을 정의, 자식들은 필요에 따라 알고리즘의 특정 단계를 오버라이드
	- 전체 알고리즘 구조는 확장하지 않고 알고리즘의 특정 단계만 확장할 때 사용
- 데코레이터(Decorator) 패턴
	- 구조 패턴
	- 새로운 행동을 포함하는 특수 래퍼 객체들로 감싸서 행동을 연결
	- 커피 주문 시스템
		- 아메리카노 + 샷 추가 + 우유 추가 + 두유 추가 등
- 팩토리 메서드(Factory Method) 패턴
	- 생성 패턴
	- 객체 생성로직을 캡슐화해 별도의 클래스 또는 하위 클래스의 특정 메서드에 위임
	    - 정적 팩토리 메서드는 같은 클래스에 있으므로 팩토리 메서드 패턴이라고 하지 않음
	- 장점
	    - 유연성: 클라이언트는 객체 생성 로직을 몰라도 됨 => 낮은 결합도
	    - 확장성: 새로운 타입의 객체 생성시 새로운 팩토리 클래스를 추가 => 코드 변경X
	- 단점
	    - 코드 복잡성
	    - 객체 생성 과정을 파악하기 어려움
	- 예시
	    - java.util.EnumSet.of()
	    - BeanFactory
	    - EntityManagerFactory
